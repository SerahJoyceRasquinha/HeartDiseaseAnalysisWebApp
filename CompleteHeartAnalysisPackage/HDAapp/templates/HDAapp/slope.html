<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analysis</title>
    <style>
        /* Reset default margin and padding */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: white; /* White background for the body */
            color: black; /* Black text color */
            line-height: 1.6;
        }

        header {
            background-color: black; /* Black background for the header */
            color: white; /* White text color */
            text-align: center;
            padding: 1rem;
        }

        header h1 {
            font-size: 2rem; /* Adjust font size as needed */
            margin-top:3%;
        }
        .back {
            position: absolute;
            top: 20px;
            left: 20px;
            display: inline-block;
            padding: 10px 20px;
            border-radius: 20px;
            border: 2px solid lightblue;
            background-color: lightblue;
            color: black;
            text-align: center;
            line-height: 1.5;
            font-size: 1rem;
            font-weight: bold;
            text-decoration: none;
            transition: all 0.3s ease;
            z-index: 3;
        }
        .back:hover {
            border-color: darkblue;
            background-color: darkblue;
            color: white;
        }

        main {
            max-width: 2000px; /* Increase max-width for larger charts */
            margin: 0 auto; /* Center align main content */
        }

        canvas {
            display: block;
            width: 1000px; /* Set a fixed width for the canvas */
            height: 400px; /* Adjust height as needed */
            margin: 0 auto; /* Center align the canvas */
            border: 1px solid black;
        }
        
        .Section{
            border: 2px solid black;
            padding: 10px;
            margin:2%;
            padding-left:1.5%;
        }

        ol{
            margin-left:3%;
        }

        ul{
            margin-left:5%;
        }

        .navigation {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 20px;
            margin-top:3%;
        }

        .nav-button {
            padding: 10px 20px;
            border-radius: 20px;
            border: 2px solid white;
            background-color: transparent;
            color: white;
            text-align: center;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .nav-button:hover {
            border-color: black;
            background-color: white;
            color: black;
        }
    </style>
</head>
<body>
    <a href="{% url 'homepage' %}#mainContent" class="back">Back</a>
    <header>
        <h1>Analysis Based On Past Data ðŸ“Š</h1>
        <div class="navigation">
            <button class="nav-button" onclick="window.location.href='{% url 'exang' %}'">Exercise-Induced Angina Analysis</button>
            <button class="nav-button" onclick="window.location.href='{% url 'chestpain' %}'">Chest Pain Analysis</button>
            <button class="nav-button" onclick="window.location.href='{% url 'fastbs' %}'">Fasting Blood Sugar Analysis</button>
            <button class="nav-button" onclick="window.location.href='{% url 'restingelectro' %}'">Resting Electrocardiogram Analysis</button>
            <button class="nav-button" onclick="window.location.href='{% url 'slope' %}'">Slope Analysis</button>
            <button class="nav-button" onclick="window.location.href='{% url 'bloodves' %}'">Blood Vessel Count Analysis</button>
            <button class="nav-button" onclick="window.location.href='{% url 'restingBP' %}'">Resting Blood Pressure</button>
        </div>
    </header>
    <main>    
        <div class="Section">
            <h1>Slope in the Context of Cardiovascular Disease (CVD)</h1>

            <h2>Definition</h2>
            <p>
                In the context of cardiovascular disease (CVD), the term <strong>slope</strong> often refers to the graphical representation of various cardiovascular metrics, 
                particularly when analyzing the relationship between physical activity or other physiological parameters and heart health. Different types of slopes can indicate 
                varying levels of risk, health status, or response to treatments.
            </p>
            <p>
                <strong>Types of Slopes:</strong>
            </p>
            <ul>
                <li><strong>Uplift Slope:</strong> Indicates improvement in cardiovascular health or fitness.</li>
                <li><strong>Flat Slope:</strong> Suggests no significant change in cardiovascular metrics, which may indicate stability or stagnation.</li>
                <li><strong>Downward Slope:</strong> Reflects a decline in cardiovascular health or an increase in risk factors.</li>
                <li><strong>Steep Downward Slope:</strong> Represents a rapid deterioration in heart health, often requiring immediate attention.</li>
            </ul>
            <br>
            <h2>Causes of Slope Variations in CVD</h2>
            <ul>
                <li><strong>Physical Activity Levels:</strong>
                    <ul>
                        <li><strong>Increased Activity:</strong> An uplift slope may be observed with increased physical activity, resulting in improved cardiovascular health.</li>
                        <li><strong>Sedentary Lifestyle:</strong> A flat or downward slope may be evident in individuals with low physical activity, leading to increased risk factors such as obesity and hypertension.</li>
                    </ul>
                </li>
                <li><strong>Dietary Habits:</strong>
                    <ul>
                        <li><strong>Healthy Diet:</strong> A positive slope may result from dietary changes, such as adopting a heart-healthy diet rich in fruits, vegetables, and whole grains.</li>
                        <li><strong>Poor Nutrition:</strong> Unhealthy eating patterns can lead to a downward slope, indicating worsening cardiovascular risk factors like high cholesterol and blood pressure.</li>
                    </ul>
                </li>
                <li><strong>Medication Compliance:</strong>
                    <ul>
                        <li><strong>Adherence to Treatment:</strong> Consistent use of medications for managing CVD can create an upward slope, showing improvement in health markers.</li>
                        <li><strong>Non-compliance:</strong> Discontinuation or irregular use of prescribed medications may lead to a flat or downward slope in health status.</li>
                    </ul>
                </li>
                <li><strong>Management of Risk Factors:</strong>
                    <ul>
                        <li><strong>Effective Management:</strong> Slope improvement may occur when risk factors such as hypertension, diabetes, and high cholesterol are effectively managed.</li>
                        <li><strong>Lack of Control:</strong> Failure to manage these risk factors can lead to a negative slope, indicating increased cardiovascular risk.</li>
                    </ul>
                </li>
            </ul>
            <br>
            <h2>Effects of Slope Changes on Cardiovascular Health</h2>

            <h3>Positive Effects of an Uplift Slope:</h3>
            <ul>
                <li><strong>Improved Cardiovascular Fitness:</strong> Indicates better heart function and endurance, reducing the risk of heart disease.</li>
                <li><strong>Lowered Risk Factors:</strong> Positive slopes in health metrics often correlate with lower blood pressure, cholesterol, and blood sugar levels.</li>
            </ul>

            <h3>Neutral Effects of a Flat Slope:</h3>
            <ul>
                <li><strong>Stability in Health:</strong> A flat slope may indicate stability in cardiovascular health, but it can also suggest complacency if no proactive measures are taken.</li>
                <li><strong>Potential Risk of Decline:</strong> Without continued effort to improve health, a flat slope can eventually lead to a downward trend.</li>
            </ul>

            <h3>Negative Effects of a Downward Slope:</h3>
            <ul>
                <li><strong>Deterioration of Health:</strong> A downward slope often signals a decline in cardiovascular health, potentially leading to conditions like heart disease or heart failure.</li>
                <li><strong>Increased Hospitalization Risk:</strong> Rapid declines in health metrics may lead to more frequent medical interventions and hospitalizations.</li>
            </ul>

            <h3>Severe Effects of a Steep Downward Slope:</h3>
            <ul>
                <li><strong>Acute Medical Situations:</strong> A steep downward slope can indicate an acute health crisis, such as a heart attack or stroke, requiring immediate medical intervention.</li>
                <li><strong>Long-term Consequences:</strong> Severe declines in heart health metrics may lead to chronic conditions and a reduced quality of life.</li>
            </ul>
            <br>
            <h2>Prevention Strategies in Relation to Slope in CVD</h2>

            <h3>1. Promoting Regular Physical Activity:</h3>
            <ul>
                <li><strong>Exercise Programs:</strong> Encourage participation in aerobic and resistance training exercises to promote an upward slope in cardiovascular fitness.</li>
                <li><strong>Daily Activity:</strong> Integrating physical activity into daily routines can help maintain or improve heart health.</li>
            </ul>

            <h3>2. Adopting a Heart-Healthy Diet:</h3>
            <ul>
                <li><strong>Nutritional Education:</strong> Educate individuals about the benefits of a balanced diet rich in essential nutrients that support heart health.</li>
                <li><strong>Meal Planning:</strong> Encourage planning meals that include a variety of fruits, vegetables, whole grains, and lean proteins to improve overall cardiovascular metrics.</li>
            </ul>

            <h3>3. Ensuring Medication Adherence:</h3>
            <ul>
                <li><strong>Patient Education:</strong> Provide education on the importance of taking medications as prescribed to manage CVD effectively.</li>
                <li><strong>Support Systems:</strong> Establish support systems for individuals to help them remember to take their medications regularly.</li>
            </ul>

            <h3>4. Monitoring and Managing Risk Factors:</h3>
            <ul>
                <li><strong>Regular Check-Ups:</strong> Encourage routine health check-ups to monitor blood pressure, cholesterol levels, and other risk factors.</li>
                <li><strong>Lifestyle Modifications:</strong> Implement programs that focus on lifestyle changes, such as weight management and smoking cessation, to reduce risk factors and create a positive slope.</li>
            </ul>

            <h3>5. Promoting Mental Well-being:</h3>
            <ul>
                <li><strong>Stress Management:</strong> Introduce stress-reduction techniques, such as mindfulness or yoga, to help manage the emotional factors affecting cardiovascular health.</li>
                <li><strong>Social Support:</strong> Encourage individuals to seek social support, as strong relationships can improve adherence to health-promoting behaviors.</li>
            </ul>
            <br>
            <h2>Conclusion</h2>
            <p>
                Understanding the concept of slope in the context of cardiovascular disease is crucial for assessing heart health and managing risk factors effectively. 
                Positive slopes indicate improvements in cardiovascular metrics, while negative slopes can signify deterioration and increased risk. 
                By implementing preventive strategies that promote healthy lifestyle choices, adherence to treatment, and effective risk factor management, 
                individuals can work towards maintaining an upward slope in their cardiovascular health, ultimately reducing the risk of CVD and improving quality of life.
            </p>
            <br>
            <p>This chart visualizes the relationship of Fasting Blood Sugar with respect to both genders of each age respectively and the likelihood of having heart disease.</p>
                <ol type="1">
                    <li><b>Gender Categories (0 = Female, 1 = Male):</b></li>
                    <ul>
                        <li>The chart shows two stacked sections for each age group.</li>
                        <li>The blue bar represents male individuals in that age group.</li>
                        <li>The pink bar represents female individuals in that age group.</li>
                    </ul>
                    <li><b>Segregation based On what type of Sloping is Seen (0 = Upslope, 1 = Flat, 2 = Downward slope, 3 = Steep Downward slope):</b></li>
                    <ul>
                        <li>Sky Blue =  Males who are up sloping. </li>
                        <li>Light Blue =  Males who are at a flat slope.</li>
                        <li>Blue =  Males who sloping downwards. </li>
                        <li>Dark Blue =  Males who are sloping downwards rapidly and steeply.</li>
                        <li>Light Pink =  Females who are up sloping. </li>
                        <li>Pink =  Females who are at a flat slope.</li>
                        <li>Dark Pink =  Females who sloping downwards. </li>
                        <li>Maroon =  Females who are sloping downwards rapidly and steeply.</li>
                    </ul>
            <canvas id="slopeChart"></canvas>
        </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const chartData = {{ chart_data|safe }};  // Data from Django backend
    
        // Extract unique ages and prepare datasets for Chart.js
        const ages = [...new Set(chartData.map(item => item.age))];
    
        const maleData = ages.map(age => {
            const entry = chartData.find(item => item.age === age && item.gender === 1) || {};
            return {
                up: entry[0] || 0,
                flat: entry[1] || 0,
                down: entry[2] || 0,
                steep: entry[3] || 0,
            };
        });
    
        const femaleData = ages.map(age => {
            const entry = chartData.find(item => item.age === age && item.gender === 0) || {};
            return {
                up: entry[0] || 0,
                flat: entry[1] || 0,
                down: entry[2] || 0,
                steep: entry[3] || 0,
            };
        });
    
        const ctx = document.getElementById('slopeChart').getContext('2d');
        const anginaChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ages,
                datasets: [
                    // Male datasets
                    {
                        label: 'Male - up',
                        data: maleData.map(data => data.up),
                        backgroundColor: '#00ffe1',
                        stack: 'male',
                    },
                    {
                        label: 'Male - flat',
                        data: maleData.map(data => data.flat),
                        backgroundColor: '#0080ff',
                        stack: 'male',
                    },
                    {
                        label: 'Male - down',
                        data: maleData.map(data => data.down),
                        backgroundColor: '#0800ff',
                        stack: 'male',
                    },
                    {
                        label: 'Male - steep',
                        data: maleData.map(data => data.steep),
                        backgroundColor: '#040161',
                        stack: 'male',
                    },
                    // Female datasets
                    {
                        label: 'Female - up',
                        data: femaleData.map(data => data.up),
                        backgroundColor: '#cf47f5',
                        stack: 'female',
                    },
                    {
                        label: 'Female - flat',
                        data: femaleData.map(data => data.flat),
                        backgroundColor: '#9004b8',
                        stack: 'female',
                    },
                    {
                        label: 'Female - down',
                        data: femaleData.map(data => data.down),
                        backgroundColor: '#700156',
                        stack: 'female',
                    },
                    {
                        label: 'Female - steep',
                        data: femaleData.map(data => data.steep),
                        backgroundColor: '#61021e',
                        stack: 'female',
                    },
                ]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: true,
                        text: 'Stacked Bar Chart: Slope Analysis by Age and Gender'
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Age'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Number of People In each Age divided on Gender'
                        },
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
    
</body>
</html>
